<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.0 (Unix)">
	<META NAME="AUTHOR" CONTENT="Steve Ludtke">
	<META NAME="CREATED" CONTENT="19981215;23321300">
	<META NAME="CHANGEDBY" CONTENT="Steve Ludtke">
	<META NAME="CHANGED" CONTENT="19981216;2040100">
	<STYLE>
	<!--
	-->
	</STYLE>
</HEAD>
<BODY>
<P>EMAN Installation</P>
<pre>

----------------------
Prerequisite Libraries
----------------------

   I) Required libraries
   
      1. fftw, version 2.1.X,     (http://www.fftw.org/)

         NOTE: 
         1) To install from source, use configure options:
            % ./configure --enable-static=no --enable-shared --enable-float --enable-type-prefix

         2) Please don't use fftw version 3.X. It is not compatible with 2.1.X. 
    
      2. gsl, version >= 1.3,    (http://www.gnu.org/software/gsl/)
    
      3. libtiff (http://www.libtiff.org)
     
  II) Optional Libraries
  
      These libraries are feature-dependent:
  
      a) To enable GUI programs, use Qt version >= 3.0 (http://www.trolltech.com/).
         Use the following options to install from source:
         % ./configure -qt-gif -thread -qt-imgfmt-jpeg
      
      b) To enable python support, use
         1. Python (version 2.2+)    (http://www.python.org)
         2. Boost Python (version 2+)    (http://www.boost.org)
           (see "NOTE A" on how to install boost python)
        
      c) To enable Open Inventor support, use
         Open Inventor    (http://www.sgi.com/software/inventor/)

      d) To enable HDF5 support, use hdf5 (http://hdf.ncsa.uiuc.edu/HDF5).
                   
   III) Recommendations  
   
      If compiling for Athlons, suggest using FFTWGEL, which can give
      a ~20% speed boost (http://www.complang.tuwien.ac.at/skral/fftwgel.html)

-------------    
Installation
-------------

       1) download CMake from http://www.cmake.org
      
       2) install CMake:
          % tar zxf cmake.tar.gz
          % cd CMake
          % ./configure && make && make install

       3) % cd EMAN/src; mkdir build; cd build
       4) % ccmake ../eman
          make your configuration here. Then type 'c', and type 'g'.
        
          There are some platform dependernt optimization flags you can use to make the final 
          binary run faster. These flags are not included in the default CMakeLists.txt configuration, 
          you can add them when you are running "ccmake ../eman". Change CMAKE_BUILD_TYPE to Release and
          "CMAKE_CXX_FLAGS_RELEASE" (in advanced mode by typing 't') to these:
        
        For Athlon system: -march=athlon-xp -O3 -funroll-loops -pipe
            these flags speed up the speedtest score from 1100 to 1600 on a Athlon 2800 computer
        
        For Mac G5 system: -fast -O5 -mcpu=970 -mtune=970 -mpowerpc64 -pipe
            these flags speed up the speedtest score from 700 to 1100 on a  G5 (2G) OS X 10.3 computer
            
       5) % make
       6) % make install

       
=====================================================
NOTE A: how to install boost python
    
    0. Download 'bjam' for your platform.
    
    1. Download boost source from http://www.boost.org. Assume it's boost_1_31_0.
       % cd /usr/local/src; tar zxf boost_1_31_0.tar.gz; cd boost_1_31_0.
    
    2. set up environment variables "PYTHON_ROOT" and "PYTHON_VERSION".
       For example, if your python is at /usr/bin/python. PYTHON_ROOT is
       "/usr". if your python is 2.2.X, PYTHON_VERSION is '2.2'.
    
       a) check your shell: % echo $SHELL
       
       b) if you are using bash/zsh, do
        % export PYTHON_VERSION=2.2
        % export PYTHON_ROOT=/usr

      if you are using csh/tcsh, do
        % setenv PYTHON_VERSION 2.2
        % setenv PYTHON_ROOT /usr

    3. cd libs/python/build
    
    4. run 'bjam' with your options:
       1) linux-x86: % bjam
       2) SGI Irix:  % bjam "-sTOOLS=mipspro"
       
    5. cp -df bin-stage/libboost_python.so* /usr/local/lib
       cd ../../..; cp -rf boost /usr/local/include

  
</pre>

<HR>
<P><I>Last Modified:&nbsp;</I><SCRIPT LANGUAGE="JavaScript">
document.write(document.lastModified)
</SCRIPT>
 
</BODY>
</HTML>
